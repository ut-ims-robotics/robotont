

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Praktikum 5 - 2d kaardistamine, automaatne navigeerimine &mdash; Clearbot 0.1 alpha dokumentatsioon</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/hacks.css" type="text/css" />
  
    <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
  

  
        <link rel="index" title="Indeks"
              href="../genindex.html"/>
        <link rel="search" title="Otsing" href="../search.html"/>
    <link rel="top" title="Clearbot 0.1 alpha dokumentatsioon" href="../index.html"/>
        <link rel="next" title="Praktikum 6 - 3D kaardistamine" href="praktikum6.html"/>
        <link rel="prev" title="Praktikum 4 - AR markerid" href="praktikum4.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Clearbot
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Praktikumid</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="praktikum1.html">Praktikum 1 - Linux, ssh, roboti juhtimine klaviatuuriga</a></li>
<li class="toctree-l1"><a class="reference internal" href="praktikum2.html">Praktikum 2 - Programmeerimise alused: for-tsükkel, funktsioonid</a></li>
<li class="toctree-l1"><a class="reference internal" href="praktikum3.html">Praktikum 3 - Andurid, if-lause, bang-bang kontroller</a></li>
<li class="toctree-l1"><a class="reference internal" href="praktikum4.html">Praktikum 4 - AR markerid</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Praktikum 5 - 2d kaardistamine, automaatne navigeerimine</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#mis-on-kaardistamine">Mis on kaardistamine?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#laseri-visualiseerimine-rvizis">Laseri visualiseerimine RVizis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#proovime-ruumi-kaardistada">Proovime ruumi kaardistada</a></li>
<li class="toctree-l2"><a class="reference internal" href="#autonoomne-liikumine">Autonoomne liikumine</a></li>
<li class="toctree-l2"><a class="reference internal" href="#proovime-ise">Proovime ise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="praktikum6.html">Praktikum 6 - 3D kaardistamine</a></li>
<li class="toctree-l1"><a class="reference internal" href="praktikum7.html">Praktikum 7 - Regulaatorid</a></li>
<li class="toctree-l1"><a class="reference internal" href="praktikum8.html">Praktikum 8 - Simulatsioon</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Clearbot</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Praktikum 5 - 2d kaardistamine, automaatne navigeerimine</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/labs/praktikum5.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="praktikum-5-2d-kaardistamine-automaatne-navigeerimine">
<h1>Praktikum 5 - 2d kaardistamine, automaatne navigeerimine<a class="headerlink" href="#praktikum-5-2d-kaardistamine-automaatne-navigeerimine" title="Püsiviit sellele pealkirjale">¶</a></h1>
<div class="section" id="mis-on-kaardistamine">
<h2>Mis on kaardistamine?<a class="headerlink" href="#mis-on-kaardistamine" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Siiani oleme kasutanud vaid andmeid, mida me saame reaalajas.
Aga kas poleks mitte tore, kui robotil oleks mälu?
Kui sõidame mõnest takistusest mööda, siis on hea, kui jätame meelde, kus see takistus oli, et oskaks seda edaspidi vältida.
Selleks ongi kaardistamine.
Käesolevas praktikumis kasutame kaugusanduri laserskanni, et luua ja jätta ka meelde kahemõõtmeline kaart roboti ümbrusest.
Kaardi loomiseks ja sellel roboti asukoha määramiseks kasutame Google Cartographer on tarkvara, mida muuhulgas kasutavad ka Google’i isesõitvad autod.</p>
</div>
<div class="section" id="laseri-visualiseerimine-rvizis">
<h2>Laseri visualiseerimine RVizis<a class="headerlink" href="#laseri-visualiseerimine-rvizis" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>RViz on ROSis põhiline programm, mida kasutada erinevate andmete graafiliseks visualiseerimiseks.
Kõigepealt kasutame RVizi roboti kaugusanduri laserskanni pidevaks kujutamiseks ning hiljem juba valminud kaarti nägemiseks.</p>
<ol class="arabic">
<li><p class="first">Ava uus terminal</p>
</li>
<li><p class="first">Loo <em>ssh</em>-ühendus robotisse</p>
</li>
<li><p class="first">Trüki terminali</p>
<p><strong>roslaunch robotont_teleop teleop_with_laserscan.launch</strong></p>
<p>See paneb käima roboti poolel vajaoleva tarkvara</p>
</li>
<li><p class="first">Ava uus terminal ning trüki sinna</p>
<p><strong>roslaunch robotont_teleop teleop_pc_side.launch</strong></p>
<p>Selles terminalis saad robotit juhtida.</p>
</li>
<li><p class="first">Ava veel üks terminal ning trüki sinna</p>
<p><strong>roslaunch robotont_description display_laserscan.launch</strong></p>
</li>
<li><p class="first">Nüüd säti enda aknad nii, et näeksid korraga RVizi pilti ning seda terminali, kus klaviatuuriga juhtimine käib.</p>
</li>
<li><p class="first">Sõida ringi ja vaata, milline on pilt RVizis.</p>
</li>
<li><p class="first">Vaadates ainult RVizi, sõida läbi ruumi keskel oleva takistusraja.</p>
</li>
<li><p class="first">Kui oled valmis jätkma, sulge kõik terminaliaknad.</p>
</li>
</ol>
</div>
<div class="section" id="proovime-ruumi-kaardistada">
<h2>Proovime ruumi kaardistada<a class="headerlink" href="#proovime-ruumi-kaardistada" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Nüüd kui oleme näinud, mida robot näeb, on aeg kaardistama hakata.</p>
<ol class="arabic">
<li><p class="first">Ava terminal, loo ssh-ühendus robotisse ning trüki sinna</p>
<p><strong>roslaunch robotont_teleop teleop_carto_with_navstack.launch</strong></p>
<p>See tegeleb kaardistamisega.</p>
</li>
<li><p class="first">Nüüd ava uus arvutipoolne terminal ning trüki sinna</p>
<p><strong>roslaunch robotont_description display_2dmapping.launch</strong></p>
</li>
<li><p class="first">Ava uus terminal ning trüki sinna</p>
<p><strong>roslaunch robotont_teleop teleop_pc_side.launch</strong></p>
<p>Selles terminalis saad robotit juhtida.</p>
</li>
<li><p class="first">Nüüd säti enda aknad nii, et näeksid korraga RVizi pilti ning seda terminali, kus klaviatuuriga juhtimine käib.</p>
</li>
<li><p class="first">Sõida robotiga seni ringi kuni kaart tundub selge ning oled sellega rahul.</p>
</li>
</ol>
<p>Kui oled oma kaardiga rahul, näita juhendajale ning liigu järgmise punkti juurde.</p>
</div>
<div class="section" id="autonoomne-liikumine">
<h2>Autonoomne liikumine<a class="headerlink" href="#autonoomne-liikumine" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Kui kaart on olemas, siis oskab robot ka enda asukoha seal leida. Veel enam, robot oskab ise sõita punktist A punkti B, mis talle ette anda.</p>
<ol class="arabic">
<li><p class="first">RVizi aknas kliki esimesena ikoonil “2D Pose Estimate” ning tiri nool roboti sõidusuunas</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/2dposeestimate.png"><img alt="../_images/2dposeestimate.png" src="../_images/2dposeestimate.png" style="width: 910.6999999999999px; height: 520.8px;" /></a>
</div>
<div class="figure">
<a class="reference internal image-reference" href="../_images/poseestimatearrow.png"><img alt="../_images/poseestimatearrow.png" src="../_images/poseestimatearrow.png" style="width: 910.6999999999999px; height: 520.8px;" /></a>
</div>
</li>
<li><p class="first">Seejärel kliki sümbolil “2D Nav Goal” ning tiri nool kaardil sinna, kuhu tahad et robot sõidaks.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/2dnavgoal.png"><img alt="../_images/2dnavgoal.png" src="../_images/2dnavgoal.png" style="width: 910.6999999999999px; height: 520.8px;" /></a>
</div>
<div class="figure">
<a class="reference internal image-reference" href="../_images/2dnavgoalarrow.png"><img alt="../_images/2dnavgoalarrow.png" src="../_images/2dnavgoalarrow.png" style="width: 910.6999999999999px; height: 520.8px;" /></a>
</div>
</li>
</ol>
</div>
<div class="section" id="proovime-ise">
<h2>Proovime ise<a class="headerlink" href="#proovime-ise" title="Püsiviit sellele pealkirjale">¶</a></h2>
<p>Seda, kuidas robot navigeerimisel käitub, saame ka ise seadistada.
Roboti liikumist kaardi abil kujundab valik parameetreid.
Ülesandeks on suurendada ja vähendada nende parameetrite väärtusi ning jälgida roboti käitumist ja dokumenteerida,
mida ja kuidas muutes roboti käitumine muutus.</p>
<p>Parameetrid on:</p>
<p><strong>acc_lim_x</strong> - maksimaalne lineaarkiirendus</p>
<p><strong>acc_lim_theta</strong> - maksimaalne nurkkiirendus</p>
<p><strong>yaw_goal_tolerance</strong> - kui täpne on roboti suund lõpppunktis</p>
<p><strong>xy_goal_tolerance</strong> - kui täpne on roboti asend lõpppunktis</p>
<p>Mis juhtub kui neid parameetreid suurendada või vähendada?</p>
<p>See juhend eeldab, et kaart on tehtud ja RViz käib.</p>
<ol class="arabic">
<li><p class="first">Loo ssh-ühendus robotisse</p>
</li>
<li><p class="first">Ava fail planner.yaml käsuga</p>
<p><strong>nano ~/catkin_ws/src/robotont/robotont_teleop/config/planner.yaml</strong></p>
</li>
<li><p class="first">Muuda korraga ainult ühte eelnevaist  parameetrist oma äranägemise järgi.</p>
</li>
<li><p class="first">Salvesta ja välju. (Ctrl+X)</p>
</li>
<li><p class="first">Käivita uuesti planeerimistarkvara käsuga</p>
<p><strong>roslaunch robotont_teleop navstack.launch</strong></p>
</li>
<li><p class="first">Proovi planeerida robotile teekond nagu eelmises ülesandes.
Kas robot käitus teisiti?
Kuidas robot käitus?
Kirjuta üles, mida muutsid ning kuidas roboti planeerimine selle peale muutus.
Olles terminalis, kus eelmist käsku jooksutasid, sule programm käsuga Ctrl+C.
Mine punkti 2 ja proovi parameetreid teisiti muuta.</p>
<div class="figure">
<a class="reference internal image-reference" href="../_images/tabel1.png"><img alt="../_images/tabel1.png" src="../_images/tabel1.png" style="width: 896.0px; height: 270.2px;" /></a>
</div>
</li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="praktikum6.html" class="btn btn-neutral float-right" title="Praktikum 6 - 3D kaardistamine" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="praktikum4.html" class="btn btn-neutral" title="Praktikum 4 - AR markerid" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Autoriõigused 2019 Madis Kaspar Nigol, Veiko Vunder, Renno Raudmäe, Karl Kruusamäe. Litsents Creative Commons BY-NC-ND (https://creativecommons.org/licenses/by-nc-nd/4.0/).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1 alpha',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="../_static/contentui.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>